{% extends "base.html" %}
{% block content %}
<style >
.buttonsInput{
        color:whitesmoke;
        text-align-last:left;
        padding:0.2em;
        padding-left:2em;
        padding-right:2em;
    }
.comment_body {
        display: inline-block;
        vertical-align: middle;

        width: calc(100% - 75px);
        min-height: 65px;
        margin-left: 10px;
        padding: 5px 10px;
        font-size: .9rem;
        color: #555;
        background-color: $WHITE;
        border-bottom: 2px solid lighten($GREY, 15%);
    }
 </style>

<div>
{% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }}" role="alert">
                {{message}}
            </div>
        {% endfor %}
{% endif %}
<div class="w3-panel w3-leftbar"> 
 <p><i class="fa fa-quote-right w3-xxlarge"></i><br>
        <i>{{qoute}}</i></p>
    </div>
    <br>
    <form method="POST" >
        {% csrf_token %}
        {{qForm}}
        <input  class="btn btn-grey buttonsInput" type="submit" name="reply"  id="myBtn">  </input>
    </form>
</div>
<br>
<details class="btn btn-outline-dark" >
  <summary style=" outline: none;">Open Options</summary>
  <p><form class="" method="get" action="" >
    {{ questions.form}}
    <button class="btn btn-grey buttonsInput" type="submit" > Search </button>
    </form>
    {% if  not request.user.is_authenticated %}
        {% comment %} <a href="{% url 'generate-forum' %}" class="btn btn-grey buttonsInput" >Click to generate a forum</a> {% endcomment %}

    {% else %}
        <a href="{% url 'forum'  %}" class="btn btn-grey buttonsInput" >Go To Your Forum</a>
        </p>
    {% endif %}
</details>


    <div class="container-fluid" style="margin: 0.5%;padding: 5%;">
        {% for question  in questions.qs %}
        <fieldset class="border border-0">
            <div class="card-body text-left" style="overflow: hidden;padding:0em">
                <div class="text-muted" ><small><b>{{question.get_time_diff}}</b></small></div>
                    <p  class="text-light" style="padding:1em;margin:0">{{question.question_text}}</p>
                <div style="float: center;" class="h6" >
                    <a href="{% url 'publicquestion' slug=question.slug  %}" style="margin-left: 2em;" class="link">Reply or View Replies</a>
                </div>
            </div>

            
        </fieldset><br>
        {% endfor %}
    {% if is_paginated  %}

      <!--Pagination-->
      <nav class="d-flex justify-content-center wow fadeIn">
        <ul class="pagination" >

          {% if page_obj.has_previous %}
            <li class="page-item ">
              <a class="page-link"  href="?page={{page_obj.previous_page_number}}" aria-label="Previous">
                <span aria-hidden="true"><i class="fas fa-arrow-left"></i></span>
                <span class="sr-only">Previous</span>
              </a>
            </li>
          {% endif %}
          <li class="page-item " style="background-color:#309c87">
            <a class="page-link" href="?page={{page_obj.number}}" style="color:white">{{page_obj.number}}
              <span class="sr-only">(current)</span>
            </a>
          </li>
          {% if page_obj.has_next %}
              <li class="page-item">
                <a class="page-link" href="?page={{page_obj.next_page_number}}" aria-label="Next">
                  <span aria-hidden="true"><i class="fas fa-arrow-right"></i></span>
                  <span class="sr-only">Next</span>
                </a>
              </li>
          {% endif %}
        </ul>
      </nav>
       {% endif %}
    <div>

<script>
    document.getElementById("checkreply").onclick = function() {replyOpen()};
    
    function replyOpen() {
        if (document.getElementById('replyID').style.display == 'inherit'){
            document.getElementById('replyID').style.display = 'none'
        }
        else{
            document.getElementById('replyID').style.display = 'inherit'
        }
    }
    </script>
{% endblock  %}
